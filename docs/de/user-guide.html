
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anwenderleitfaden für QGIS Model Baker &#8212; QGIS Model Baker Documentation 1.0 Dokumentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/style.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/translations.js"></script>
    <script src="_static/logo.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="genindex.html" />
    <link rel="search" title="Suche" href="search.html" />
    <link rel="next" title="Entwicklung" href="development.html" />
    <link rel="prev" title="Erste Schritte" href="get_started.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          QGIS Model Baker Documentation</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get_started.html">Erste Schritte</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Anwenderleitfaden für QGIS Model Baker</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Entwicklung</a></li>
<li class="toctree-l1"><a class="reference internal" href="meta_attributes.html">Metaattribute</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Anwenderleitfaden für QGIS Model Baker</a><ul>
<li><a class="reference internal" href="#introduction">Einführung</a></li>
<li><a class="reference internal" href="#generate-project">Projekt generieren</a></li>
<li><a class="reference internal" href="#import-an-interlis-transfer-file-xtf">Import an Interlis Transfer File (.xtf)</a></li>
<li><a class="reference internal" href="#export-an-interlis-transfer-file-xtf">Ein Interlis Transfer File (.xtf) exportieren</a></li>
<li><a class="reference internal" href="#plugin-configuration">Plugin Configuration</a></li>
<li><a class="reference internal" href="#upgrade-your-database-from-ili2db-3-to-4">Upgrade your Database from ili2db 3 to 4</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="get_started.html" title="Previous Chapter: Erste Schritte"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Erste Schritte</span>
    </a>
  </li>
  <li>
    <a href="development.html" title="Next Chapter: Entwicklung"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Entwicklung &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get_started.html">Erste Schritte</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Anwenderleitfaden für QGIS Model Baker</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Entwicklung</a></li>
<li class="toctree-l1"><a class="reference internal" href="meta_attributes.html">Metaattribute</a></li>
</ul>
</ul>
</li>
        </div>
      </div>
    <div class="col-md-9 content">
      
  <div class="section" id="user-guide-for-the-qgis-model-baker">
<h1><a class="toc-backref" href="#id3">Anwenderleitfaden für QGIS Model Baker</a><a class="headerlink" href="#user-guide-for-the-qgis-model-baker" title="Link zu dieser Überschrift">¶</a></h1>
<div class="contents topic" id="inhalt">
<p class="topic-title">Inhalt</p>
<ul class="simple">
<li><p><a class="reference internal" href="#user-guide-for-the-qgis-model-baker" id="id3">Anwenderleitfaden für QGIS Model Baker</a></p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id4">Einführung</a></p></li>
<li><p><a class="reference internal" href="#generate-project" id="id5">Projekt generieren</a></p></li>
<li><p><a class="reference internal" href="#import-an-interlis-transfer-file-xtf" id="id6">Import an Interlis Transfer File (.xtf)</a></p></li>
<li><p><a class="reference internal" href="#export-an-interlis-transfer-file-xtf" id="id7">Ein Interlis Transfer File (.xtf) exportieren</a></p></li>
<li><p><a class="reference internal" href="#plugin-configuration" id="id8">Plugin Configuration</a></p></li>
<li><p><a class="reference internal" href="#upgrade-your-database-from-ili2db-3-to-4" id="id9">Upgrade your Database from ili2db 3 to 4</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id4">Einführung</a><a class="headerlink" href="#introduction" title="Link zu dieser Überschrift">¶</a></h2>
<p>Dieses Dokument beinhaltet Informationen zu Model Baker für QGIS 3.</p>
<p>Dies ist ein QGIS Plugin um mit wenigen Klicks ein QGIS Projekt von einem existierenden Datenmodell erstellen.</p>
<p>QGIS Layer und Formulare manuell zu Konfigurieren ist eine mühsame und fehleranfällige Aufgabe. Dieses Plugin lädt Datenbankschemen mit verschiedenen Metadaten um die Legende, Widgetkonfigurationen, Relationen und mehr vorzukonfigurieren.</p>
<p>Interlis Modelle beinhalten mehr Informationen als ein reines Datenbankschema. Dieses Pluging nutzt ili2pg um Interlis Modelle in eine PostgreSQL/PostGIS Datenbank zu importieren und nutzt die zusätzlichen Metainformationen um die Nutzerschnittstelle besser zu gestalten.</p>
</div>
<div class="section" id="generate-project">
<h2><a class="toc-backref" href="#id5">Projekt generieren</a><a class="headerlink" href="#generate-project" title="Link zu dieser Überschrift">¶</a></h2>
<p>To generate configured QGIS projects from Interlis models or PostgreSQL/PostGIS schemas, go to menu Database -&gt; Model Baker -&gt; Generate. The result QGIS project is ready to capture and edit data according to the rules defined in source Interlis models. This includes a custom layer tree order, layer edit forms with appropriate widgets per attribute type, constraints, domains (lists of values allowed for certain attributes), relations among layers and more.</p>
<p>Dialogoptionen sind in den folgenden Linien beschrieben (die Nummerierung entspricht derjenigen in den Bildern).</p>
<p><a href="#id1"><span class="problematic" id="id2">|Erzeugen|</span></a></p>
<p><strong>1.    Generation Mode</strong>
Model Baker is able to generate QGIS projects from both Interlis models or PostgreSQL/PostGIS existing schemas. You should start using this list to choose what mode you want the plugin to work on.</p>
<p>If you choose <cite>Interlis</cite> Model Baker employs ili2pg under the hood to convert your (conceptual) Interlis models into phisical ones stored in PostgreSQL/PostGIS. As long as you have Internet access when you first run the plugin, you shouldn’t care about installing ili2pg, since Model Baker will download it and place it in a plugin’s subfolder.</p>
<p>If, on the contrary, you choose <cite>PostGIS</cite>, Model Baker uses a PostgreSQL/PostGIS schema to generate your QGIS project. This option allows you to reconstruct a QGIS project from Interlis models, even if they were already converted into phisical models. Note that you could eventually use the plugin for generating QGIS projects from your PostgreSQL/PostGIS schemas, even if they are not related to Interlis in any way, however, Model Baker exploits Interlis expressiveness and we suggest you to use it with Interlis-based models.</p>
<p><strong>2.    Interlis Model (only for Interlis mode)</strong>
Based on the Custom Model Directories you set in Plugin Configuration (link), you can choose what models you want to convert into a PostgreSQL/PostGIS schema. Model names are specified in interlis model (ili) files. An ili file can contain a number of models. Since model names should be given strictly as they were spelled in Interlis files, once you start typing, autocompletion will help you discover available models with their correct spelling.</p>
<p><strong>3.    Interlis File (only for Interlis mode)</strong>
You could get rid of Custom Model Directories and model names and use Interlis model (ili) files directly. The Interlis file you choose will be used to convert your models into a PostgreSQL/PostGIS schema.</p>
<p><strong>4.    Coordinate Reference System - CRS (only for Interlis mode)</strong>
You can set the CRS you want to use for geometry tables defined in your Interlis models. CRS information will be stored into PostgreSQL/PostGIS.</p>
<p><strong>5.    Advanced options (only for Interlis mode)</strong>
Since Model Baker uses ili2db when in Interlis mode, you can set advanced options that determine how your conceptual object-oriented model is mapped into a PostgreSQL/PostGIS  relational model.</p>
<p><strong>*Vererbung*</strong></p>
<p>ili2db stellt drei Typen von Vererbungsstrategien zur Verfügung: „noSmartMapping“, „smart1inheritance“ und „smart2inheritance“:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>noSmartMapping</strong> Diese Vererbungsstrategie bildet alle Klassen vom Quellinterlismodell unverändert in der Zieldatenbank ab. Jede Klasse behält all ihre Attribute.</p></li>
<li><p><strong>smart1inheritance</strong> Diese Vererbungsstrategie bevorzugt das Erstellen von Parent-Klassen in der Datenbank, solange sie gewisse Anforderungen erfüllen. Attribute von Child-Klassen werden nicht verloren gehen, da sie in die Parent-Klassen transferiert werden.</p></li>
<li><p><strong>smart2inheritance</strong> Diese Vererbungsstrategie bevorzugt das Erstellen von Child-Klassen in der Datenbank. Attribute von Parent-Klassen werden nicht verloren gehen, da sie in die Child-Llassen transferiert werden.</p></li>
</ul>
</div></blockquote>
<p><strong>*Extra Model Information File*</strong></p>
<p>Ein *.toml File, das Werte für Metaattribute (wie zBs. dispExpression) enthält, anstelle dass diese direkt im Interlis File gespeichert sind. Dieses File kann pro Model konfiguriert werden.</p>
<p><strong>6.    Database Host</strong>
Set the host of the database server. By default is localhost.</p>
<p><strong>7.    Database Port</strong>
Set the port of the database server. By default is 5432.</p>
<p><strong>8.    Database Name</strong>
Set the database name. The database should exist already.</p>
<p><strong>9.    Database Schema</strong>
Set the database schema where you want to create the phisical model. The schema acts like a folder, it helps you to organize database objects like tables and relations and isolate them from other schemas. If you don’t specify a database schema, Model Baker will create a schema for you, whose name will correspond to the database name. You can even choose an existing schema, but you’d better know what you’re doing, because it will overwrite previous ili2db configurations.</p>
<p><strong>10.   Database User</strong>
Set the user to access the database.</p>
<p><strong>11.   User Password</strong>
Set the password for the database user.</p>
<p><strong>12.   Log Panel</strong>
This panel shows log messages of the whole process once Create button is clicked. If in Interlis mode, the Log Panel will show you what ili2pg command was executed (including parameters), as well as the ili2pg output. If in PostGIS mode, the Log Panel shows you what layers are being loaded into QGIS Project.</p>
</div>
<div class="section" id="import-an-interlis-transfer-file-xtf">
<h2><a class="toc-backref" href="#id6">Import an Interlis Transfer File (.xtf)</a><a class="headerlink" href="#import-an-interlis-transfer-file-xtf" title="Link zu dieser Überschrift">¶</a></h2>
<p>To import data from Interlis Transfer Files (XTF) into PostgreSQL/PostGIS schemas, go to menu Database -&gt; Model Baker -&gt; Import Interlis Transfer File (.xtf).</p>
<p>Dialogoptionen sind in den folgenden Linien beschrieben (die Nummerierung entspricht derjenigen in den Bildern).</p>
<p><img alt="import" src="_images/import.png" /></p>
<p><strong>1.    XTF File</strong>
Set source XTF file location. The XTF is an Interlis Transfer File, containing spatial and/or alphanumeric data. Usually, you generate XTF files running Export data to Interlis Transfer File (.xtf).</p>
<p><strong>2.    Models</strong>
Based on the Custom Model Directories you set in Plugin Configuration (link), you can choose what models you want to use to import data from the source XTF file.</p>
<p><strong>3.    Delete existing data in affected tables</strong>
Enabling this option deletes all existing data in tables where the import will insert data from the XTF file.</p>
<p><strong>4.    Database Host</strong>
Set the host of the database server. By default is localhost.</p>
<p><strong>5.    Database Port</strong>
Set the port of the database server. By default is 5432.</p>
<p><strong>6.    Database Name</strong>
Set the database name. The database should exist already.</p>
<p><strong>7.    Database Schema</strong>
Set the database schema where you want to import data from the XTF file. Normally, you would import data into existing schemas, but you could also import your data into new schemas. In the former case, your data are expected to follow the model with which the existing schema was generated, otherwise errors may occur. In the latter case, a new schema will be generated with default parameters given by Model Baker and from previous sessions (if you have run Generate before).</p>
<p><strong>8.    Database User</strong>
Set the user to access the database.</p>
<p><strong>9.    User Password</strong>
Set the password for the database user.</p>
<p><strong>10.   Log Panel</strong>
This panel shows log messages of the whole process once Import button is clicked. It will show you what ili2pg command was executed (including parameters), as well as the ili2pg output.</p>
</div>
<div class="section" id="export-an-interlis-transfer-file-xtf">
<h2><a class="toc-backref" href="#id7">Ein Interlis Transfer File (.xtf) exportieren</a><a class="headerlink" href="#export-an-interlis-transfer-file-xtf" title="Link zu dieser Überschrift">¶</a></h2>
<p>To export data from PostgreSQL/PostGIS schemas into Interlis Transfer Files (XTF), go to menu Database -&gt; Model Baker -&gt; Export Interlis Transfer File (.xtf).</p>
<p>Dialogoptionen sind in den folgenden Linien beschrieben (die Nummerierung entspricht derjenigen in den Bildern).</p>
<p><img alt="export" src="_images/export.png" /></p>
<p><strong>1.    XTF File</strong>
Set the XTF file where you want to export your data to.</p>
<p><strong>2.    Models</strong>
Set models you want to use to filter the data that will be exported.</p>
<p><strong>3.    Database Host</strong>
Set the host of the database server. By default is localhost.</p>
<p><strong>4.    Database Port</strong>
Set the port of the database server. By default is 5432.</p>
<p><strong>5.    Database Name</strong>
Set the database name. The database should exist already.</p>
<p><strong>6.    Database Schema</strong>
Set the database schema where data is located before exporting them to XTF.</p>
<p><strong>7.    Database User</strong>
Set the user to access the database.</p>
<p><strong>8.    User Password</strong>
Set the password for the database user.</p>
<p><strong>9.    Log Panel</strong>
This panel shows log messages of the whole process once Export button is clicked. It will show you what ili2pg command was executed (including parameters), as well as the ili2pg output.</p>
</div>
<div class="section" id="plugin-configuration">
<h2><a class="toc-backref" href="#id8">Plugin Configuration</a><a class="headerlink" href="#plugin-configuration" title="Link zu dieser Überschrift">¶</a></h2>
<p>To start using the plugin, go to menu Database -&gt; Model Baker -&gt; Settings, where you can set:</p>
<blockquote>
<div><ul>
<li><p><strong>Custom Model Directories</strong>:</p>
<p>In this window you can set one or several paths to let ili2db where to find your Interlis models (ili files). Paths can be both local directories or URLs to remote model repositories. Several paths should be separated by semicolons.</p>
<p>By default, ili2db uses <cite>%ILI_FROM_DB;%XTF_DIR;http://models.interlis.ch/;%JAR_DIR</cite>, where:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>%ILI_FROM_DB</cite> is a placeholder for the models in the database (in table t_ili2db_model),</p></li>
<li><p><cite>%XTF_DIR</cite> is a placeholder for the directory with the transfer file,</p></li>
<li><p><cite>%JAR_DIR</cite> is a placeholder for the ili2db program (ili2pg.jar or ili2gpkg.jar file).</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Java Path</strong>:</p>
<p>By default, Model Baker searches for Java executable in <cite>%JAVA_HOME</cite> environment variable. However, you can overwrite such behavior by setting a custom path to Java executable file in this window. This is useful, for instance, when environment variables are not well set and you have no rights to set them in your machine’s operating system.</p>
</li>
</ul>
</div></blockquote>
<p><img alt="settings_1" src="_images/settings_1.png" /></p>
<p><img alt="settings_2" src="_images/settings_2.png" /></p>
<p><img alt="settings_3" src="_images/settings_3.png" /></p>
<p><img alt="settings_4" src="_images/settings_4.png" /></p>
<p><img alt="settings_5" src="_images/settings_5.png" /></p>
</div>
<div class="section" id="upgrade-your-database-from-ili2db-3-to-4">
<h2><a class="toc-backref" href="#id9">Upgrade your Database from ili2db 3 to 4</a><a class="headerlink" href="#upgrade-your-database-from-ili2db-3-to-4" title="Link zu dieser Überschrift">¶</a></h2>
<p>Once in a while, you may see a message like this:</p>
<p><img alt="upgrade_1" src="_images/upgrade_01_create.png" /></p>
<p>Databases created with ili2db version 3 are still supported by Model Baker, but it’s suggested to upgrade them to the currently used version 4 of ili2db.</p>
<p>It’s super easy to do that with Model Baker.</p>
<p><strong>1.  Export Data</strong></p>
<p>First export your data to an XTF file.</p>
<p><img alt="upgrade_2" src="_images/upgrade_02_exportdata.png" /></p>
<p>It’s exported with ili2db 4, but with the paramter <cite>–export3</cite>, enabling the export of the databases created with ili2db 3.</p>
<p><strong>2.  Import Database</strong></p>
<p>Import your database according to the selected models.</p>
<p><img alt="upgrade_3" src="_images/upgrade_03_import_schema.png" /></p>
<p>It’s imported with ili2db 4. Your database is now on the current state of version 4.</p>
<p><strong>3.  Import Data</strong></p>
<p>Import your data back again.</p>
<p><img alt="upgrade_4" src="_images/upgrade_04_import_data.png" /></p>
<p>And it’s done.</p>
<dl class="field-list simple">
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>Sergio Ramírez, Germán Carrillo</p>
</dd>
<dt class="field-even">Date</dt>
<dd class="field-even"><p>Aug 24, 2017</p>
</dd>
</dl>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        

 


<div id="sourcelink">


  <a href="https://github.com/opengisch/QgisModelBaker-docs/blob/master/en/user-guide.rst" class="fa fa-github"> Edit on GitHub</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2017, The QGIS Model Baker Project/OPENGIS.ch.<br/>
      Mit <a href="http://sphinx-doc.org/">Sphinx</a> 3.1.1 erstellt.<br/>
    </p>
  </div>
</footer>
  </body>
</html>